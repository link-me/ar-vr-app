# AR-VR App — Snake3D (Godot)

Игра на Godot 4 — 3D «Змейка» с плавным хвостом, настраиваемой камерой и встроенной консолью. Проект служит базой для экспериментов (AR/VR, UX, эффекты), а также как понятный пример управления, камеры и настроек в 3D.

## Назначение

— Показать аккуратное следование хвоста без тяжёлой физики.
— Дать гибкие настройки управления и камеры для быстрых прототипов.
— Подготовить основу для возможного AR/VR расширения в Godot.

## Стек

— Godot 4 (GDScript)
— Web экспорт (WASM + HTML/JS оболочка)
— Небольшой Node.js сервер для локального предпросмотра

## Запуск (локально)

Выберите удобный способ:

Примечание: готовый Web билд включён в репозиторий — запуск возможен без установки Godot.

— Статическая раздача билда из корня репозитория:
  — `npx --yes http-server "./projects/ar-vr-app/godot/web/build" -p 9095 -c-1`
  — Откройте `http://127.0.0.1:9095/`
— Встроенный Node сервер:
  — `cd projects/ar-vr-app`
  — PowerShell (текущая сессия): `$env:PORT=9094; $env:USE_BUILD=1; node .\web-server.js`
  — Откройте `http://127.0.0.1:9094/`
— Напрямую открыть `godot/web/build/index.html` в браузере.

## Экспорт в Web (пересборка)

— Откройте `projects/ar-vr-app/godot/project.godot` в Godot 4.
— В меню Export добавьте профиль `Web` и укажите выход `godot/web/build`.
— Выполните экспорт (Debug/Release). Появятся `index.html`, `index.wasm`, `index.pck`, `index.js`.

## Управление

— Поворот: `A/D` или `←/→`
— Движение вперёд: `W` или `↑` (либо включите авто: `auto_forward on`)
— Рестарт: `E` (и кнопка Restart при Game Over)
— Консоль: клавиша `` ` `` (тильда/QuoteLeft) — показать/скрыть

## Консольные команды

Основные команды (введите `help` для полного списка):

— `restart`, `clear`
— `speed <float>`, `turn <float>`
— `auto_forward <on|off>`
— `camera_distance <float>`, `camera_height <float>`, `camera_lerp <float>`
— `head_height <float>`
— `segments_add <int>`, `segments_clear`
— `cubes <on|off>` — декоративные «матричные кубы»
— `console <on|off>`, `console_height <0.3..0.95>`

## Возможности

— Буфер пути головы → равномерный выбор точек для хвоста.
— Сглаживание положения и поворота сегментов (follow/look rates).
— Еда (`Food`) увеличивает хвост; шипы (`Spikes`) вызывают Game Over.
— Экран Game Over с кнопкой Restart и подсказкой клавиши `E`.
— Камера третьего лица с гибкими настройками.
— Консоль с автоскроллом и регулировкой высоты.
— Веб‑экспорт (WASM), работает в современных браузерах.

## Структура

— `godot/project.godot` — Godot проект
— `scenes/Main.tscn` — главная сцена
— `scripts/*.gd` — логика: `Player.gd`, `Game.gd`, `Segment.gd`, `Food.gd`, `Spikes.gd`
— `assets/` — ресурсы (текстуры и пр.)
— `godot/web/build/` — веб‑сборка (не коммитится)
— `godot/web/build/` — веб‑сборка (коммитится; запуск без Godot возможен)
— `web-server.js` — простой сервер (по умолчанию раздаёт билд)

## Требования

— Godot 4.x
— Node.js 18+ (для сервера)
— Современный браузер с поддержкой WebAssembly

## Лицензия

Внутренний проект. См. `PRIVATE_USAGE.txt` при наличии.
