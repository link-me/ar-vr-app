[gd_scene load_steps=19 format=3]
[ext_resource type="Script" path="res://scripts/Player.gd" id=1]
[ext_resource type="Script" path="res://scripts/MatrixCube.gd" id=2]
[ext_resource type="Script" path="res://scripts/Main.gd" id=13]
[ext_resource type="Script" path="res://scripts/Game.gd" id=14]

[sub_resource type="CubeMesh" id=1]

[sub_resource type="CapsuleShape3D" id=2]
radius = 0.3
height = 1.6

[sub_resource type="BoxShape3D" id=3]
size = Vector3(40, 0.5, 40)

[sub_resource type="BoxShape3D" id=4]
size = Vector3(0.5, 5, 40)

[sub_resource type="BoxShape3D" id=5]
size = Vector3(0.5, 5, 40)

[sub_resource type="BoxShape3D" id=6]
size = Vector3(40, 0.5, 40)

[sub_resource type="StandardMaterial3D" id=7]
albedo_color = Color(0.02, 0.02, 0.02, 1)
emission_enabled = false
roughness = 0.4
metallic = 0.0

[sub_resource type="Environment" id=8]
background_mode = 1
background_color = Color(0, 0, 0, 1)
glow_enabled = true
glow_strength = 0.2
fog_enabled = true
fog_color = Color(0.0, 0.4, 0.0, 1)
fog_density = 0.02
ssao_enabled = false
ssr_enabled = false
adjustment_enabled = true
adjustment_contrast = 1.05
adjustment_saturation = 1.15
volumetric_fog_enabled = false
volumetric_fog_density = 0.04
volumetric_fog_albedo = Color(0.0, 0.2, 0.0, 1)

[sub_resource type="StandardMaterial3D" id=9]
albedo_color = Color(0.0, 0.05, 0.0, 1)
emission_enabled = true
emission = Color(0.0, 1.0, 0.5, 1)
emission_energy_multiplier = 1.6
roughness = 0.15
metallic = 0.0

[sub_resource type="StandardMaterial3D" id=11]
albedo_color = Color(0.0, 0.05, 0.0, 1)
emission_enabled = true
emission = Color(0.0, 1.0, 0.6, 1)
emission_energy_multiplier = 2.0
roughness = 0.1
metallic = 0.0

[sub_resource type="PlaneMesh" id=10]
size = Vector2(0.8, 0.6)

[sub_resource type="ParticlesMaterial" id=12]
gravity = Vector3(0, -9.0, 0)
direction = Vector3(0, -1, 0)
spread = 10.0
initial_velocity_min = 2.0
initial_velocity_max = 3.8
scale = 0.8
color = Color(0.0, 1.0, 0.3, 0.8)

[node name="Main" type="Node3D"]
script = ExtResource(13)


[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1, 0)
script = ExtResource(1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource(2)

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]

[node name="Cube" type="MeshInstance3D" parent="."]
mesh = SubResource(1)

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource(1)
position = Vector3(0, 0, 0)
scale = Vector3(40, 0.5, 40)
material_override = SubResource(7)

[node name="FloorBody" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="FloorShape" type="CollisionShape3D" parent="FloorBody"]
shape = SubResource(3)

[node name="LeftWall" type="MeshInstance3D" parent="."]
mesh = SubResource(1)
position = Vector3(-20, 2.5, 0)
scale = Vector3(0.5, 5, 40)
material_override = SubResource(7)

[node name="LeftWallBody" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 2.5, 0)

[node name="LeftWallShape" type="CollisionShape3D" parent="LeftWallBody"]
shape = SubResource(4)

[node name="RightWall" type="MeshInstance3D" parent="."]
mesh = SubResource(1)
position = Vector3(20, 2.5, 0)
scale = Vector3(0.5, 5, 40)
material_override = SubResource(7)

[node name="RightWallBody" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 2.5, 0)

[node name="RightWallShape" type="CollisionShape3D" parent="RightWallBody"]
shape = SubResource(5)

[node name="Ceiling" type="MeshInstance3D" parent="."]
mesh = SubResource(1)
position = Vector3(0, 5, 0)
scale = Vector3(40, 0.5, 40)
material_override = SubResource(7)

[node name="CeilingBody" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)

[node name="CeilingShape" type="CollisionShape3D" parent="CeilingBody"]
shape = SubResource(6)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource(8)

[node name="OmniLightCenter" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
light_energy = 1.8
shadow_enabled = true

[node name="OmniLightCeiling" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, -10)
light_energy = 1.6
shadow_enabled = true

[node name="MatrixCore" type="Node3D" parent="."]

[node name="CoreCube1" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 1.5, -10)
scale = Vector3(0.8, 0.8, 0.8)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube2" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.0, -12)
scale = Vector3(0.6, 0.6, 0.6)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube3" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 1.7, -8)
scale = Vector3(0.9, 0.9, 0.9)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube4" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 2.2, 5)
scale = Vector3(0.7, 0.7, 0.7)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube5" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 1.2, 0)
scale = Vector3(0.5, 0.5, 0.5)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube6" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 2.4, 12)
scale = Vector3(0.6, 0.6, 0.6)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube7" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1.8, 10)
scale = Vector3(0.8, 0.8, 0.8)
material_override = SubResource(11)
script = ExtResource(2)

[node name="CoreCube8" type="MeshInstance3D" parent="MatrixCore"]
mesh = SubResource(1)
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 2.0, -6)
scale = Vector3(0.7, 0.7, 0.7)
material_override = SubResource(11)
script = ExtResource(2)

[node name="DigitalRain" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.5, 0)
process_material = SubResource(12)
amount = 1200
lifetime = 5.0
emitting = true
emission_shape = 1
emission_box_extents = Vector3(20, 0.5, 20)

[node name="Game" type="Node3D" parent="."]
script = ExtResource(14)